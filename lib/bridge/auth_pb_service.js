"use strict";

// package: bridge
// file: src/bridge/auth.proto
var src_bridge_auth_pb = require("../../src/bridge/auth_pb");

var google_protobuf_api_pb = require("google-protobuf/google/protobuf/api_pb");

var google_protobuf_empty_pb = require("google-protobuf/google/protobuf/empty_pb");

var grpc = require("@improbable-eng/grpc-web").grpc;

var Auth = function () {
  function Auth() {}

  Auth.serviceName = "bridge.Auth";
  return Auth;
}();

Auth.Descriptor = {
  methodName: "Descriptor",
  service: Auth,
  requestStream: false,
  responseStream: false,
  requestType: google_protobuf_empty_pb.Empty,
  responseType: google_protobuf_api_pb.Api
};
Auth.ByUsernameAndPassword = {
  methodName: "ByUsernameAndPassword",
  service: Auth,
  requestStream: false,
  responseStream: false,
  requestType: src_bridge_auth_pb.UsernameAndPassword,
  responseType: google_protobuf_api_pb.Api
};
exports.Auth = Auth;

function AuthClient(serviceHost, options) {
  this.serviceHost = serviceHost;
  this.options = options || {};
}

AuthClient.prototype.descriptor = function descriptor(requestMessage, metadata, callback) {
  if (arguments.length === 2) {
    callback = arguments[1];
  }

  var client = grpc.unary(Auth.Descriptor, {
    request: requestMessage,
    host: this.serviceHost,
    metadata: metadata,
    transport: this.options.transport,
    debug: this.options.debug,
    onEnd: function onEnd(response) {
      if (callback) {
        if (response.status !== grpc.Code.OK) {
          var err = new Error(response.statusMessage);
          err.code = response.status;
          err.metadata = response.trailers;
          callback(err, null);
        } else {
          callback(null, response.message);
        }
      }
    }
  });
  return {
    cancel: function cancel() {
      callback = null;
      client.close();
    }
  };
};

AuthClient.prototype.byUsernameAndPassword = function byUsernameAndPassword(requestMessage, metadata, callback) {
  if (arguments.length === 2) {
    callback = arguments[1];
  }

  var client = grpc.unary(Auth.ByUsernameAndPassword, {
    request: requestMessage,
    host: this.serviceHost,
    metadata: metadata,
    transport: this.options.transport,
    debug: this.options.debug,
    onEnd: function onEnd(response) {
      if (callback) {
        if (response.status !== grpc.Code.OK) {
          var err = new Error(response.statusMessage);
          err.code = response.status;
          err.metadata = response.trailers;
          callback(err, null);
        } else {
          callback(null, response.message);
        }
      }
    }
  });
  return {
    cancel: function cancel() {
      callback = null;
      client.close();
    }
  };
};

exports.AuthClient = AuthClient;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9icmlkZ2UvYXV0aF9wYl9zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInNyY19icmlkZ2VfYXV0aF9wYiIsInJlcXVpcmUiLCJnb29nbGVfcHJvdG9idWZfYXBpX3BiIiwiZ29vZ2xlX3Byb3RvYnVmX2VtcHR5X3BiIiwiZ3JwYyIsIkF1dGgiLCJzZXJ2aWNlTmFtZSIsIkRlc2NyaXB0b3IiLCJtZXRob2ROYW1lIiwic2VydmljZSIsInJlcXVlc3RTdHJlYW0iLCJyZXNwb25zZVN0cmVhbSIsInJlcXVlc3RUeXBlIiwiRW1wdHkiLCJyZXNwb25zZVR5cGUiLCJBcGkiLCJCeVVzZXJuYW1lQW5kUGFzc3dvcmQiLCJVc2VybmFtZUFuZFBhc3N3b3JkIiwiZXhwb3J0cyIsIkF1dGhDbGllbnQiLCJzZXJ2aWNlSG9zdCIsIm9wdGlvbnMiLCJwcm90b3R5cGUiLCJkZXNjcmlwdG9yIiwicmVxdWVzdE1lc3NhZ2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2xpZW50IiwidW5hcnkiLCJyZXF1ZXN0IiwiaG9zdCIsInRyYW5zcG9ydCIsImRlYnVnIiwib25FbmQiLCJyZXNwb25zZSIsInN0YXR1cyIsIkNvZGUiLCJPSyIsImVyciIsIkVycm9yIiwic3RhdHVzTWVzc2FnZSIsImNvZGUiLCJ0cmFpbGVycyIsIm1lc3NhZ2UiLCJjYW5jZWwiLCJjbG9zZSIsImJ5VXNlcm5hbWVBbmRQYXNzd29yZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBRUEsSUFBSUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUFoQzs7QUFDQSxJQUFJQyxzQkFBc0IsR0FBR0QsT0FBTyxDQUFDLHdDQUFELENBQXBDOztBQUNBLElBQUlFLHdCQUF3QixHQUFHRixPQUFPLENBQUMsMENBQUQsQ0FBdEM7O0FBQ0EsSUFBSUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsMEJBQUQsQ0FBUCxDQUFvQ0csSUFBL0M7O0FBRUEsSUFBSUMs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Q2xCcEIsTUFBQUEsUUFBUSxHQUFHLElBQVg7QUFDQUcsTUFBQUEsTUFBTSxDQUFDa0IsS0FBUDtBQUNEO0FBSkksR0FBUDtBQU1ELENBN0JEOztBQStCQTdCLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQkEsVUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWNrYWdlOiBicmlkZ2Vcbi8vIGZpbGU6IHNyYy9icmlkZ2UvYXV0aC5wcm90b1xuXG52YXIgc3JjX2JyaWRnZV9hdXRoX3BiID0gcmVxdWlyZShcIi4uLy4uL3NyYy9icmlkZ2UvYXV0aF9wYlwiKTtcbnZhciBnb29nbGVfcHJvdG9idWZfYXBpX3BiID0gcmVxdWlyZShcImdvb2dsZS1wcm90b2J1Zi9nb29nbGUvcHJvdG9idWYvYXBpX3BiXCIpO1xudmFyIGdvb2dsZV9wcm90b2J1Zl9lbXB0eV9wYiA9IHJlcXVpcmUoXCJnb29nbGUtcHJvdG9idWYvZ29vZ2xlL3Byb3RvYnVmL2VtcHR5X3BiXCIpO1xudmFyIGdycGMgPSByZXF1aXJlKFwiQGltcHJvYmFibGUtZW5nL2dycGMtd2ViXCIpLmdycGM7XG5cbnZhciBBdXRoID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXV0aCgpIHt9XG4gIEF1dGguc2VydmljZU5hbWUgPSBcImJyaWRnZS5BdXRoXCI7XG4gIHJldHVybiBBdXRoO1xufSgpKTtcblxuQXV0aC5EZXNjcmlwdG9yID0ge1xuICBtZXRob2ROYW1lOiBcIkRlc2NyaXB0b3JcIixcbiAgc2VydmljZTogQXV0aCxcbiAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgcmVxdWVzdFR5cGU6IGdvb2dsZV9wcm90b2J1Zl9lbXB0eV9wYi5FbXB0eSxcbiAgcmVzcG9uc2VUeXBlOiBnb29nbGVfcHJvdG9idWZfYXBpX3BiLkFwaVxufTtcblxuQXV0aC5CeVVzZXJuYW1lQW5kUGFzc3dvcmQgPSB7XG4gIG1ldGhvZE5hbWU6IFwiQnlVc2VybmFtZUFuZFBhc3N3b3JkXCIsXG4gIHNlcnZpY2U6IEF1dGgsXG4gIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gIHJlcXVlc3RUeXBlOiBzcmNfYnJpZGdlX2F1dGhfcGIuVXNlcm5hbWVBbmRQYXNzd29yZCxcbiAgcmVzcG9uc2VUeXBlOiBnb29nbGVfcHJvdG9idWZfYXBpX3BiLkFwaVxufTtcblxuZXhwb3J0cy5BdXRoID0gQXV0aDtcblxuZnVuY3Rpb24gQXV0aENsaWVudChzZXJ2aWNlSG9zdCwgb3B0aW9ucykge1xuICB0aGlzLnNlcnZpY2VIb3N0ID0gc2VydmljZUhvc3Q7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG59XG5cbkF1dGhDbGllbnQucHJvdG90eXBlLmRlc2NyaXB0b3IgPSBmdW5jdGlvbiBkZXNjcmlwdG9yKHJlcXVlc3RNZXNzYWdlLCBtZXRhZGF0YSwgY2FsbGJhY2spIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXTtcbiAgfVxuICB2YXIgY2xpZW50ID0gZ3JwYy51bmFyeShBdXRoLkRlc2NyaXB0b3IsIHtcbiAgICByZXF1ZXN0OiByZXF1ZXN0TWVzc2FnZSxcbiAgICBob3N0OiB0aGlzLnNlcnZpY2VIb3N0LFxuICAgIG1ldGFkYXRhOiBtZXRhZGF0YSxcbiAgICB0cmFuc3BvcnQ6IHRoaXMub3B0aW9ucy50cmFuc3BvcnQsXG4gICAgZGVidWc6IHRoaXMub3B0aW9ucy5kZWJ1ZyxcbiAgICBvbkVuZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gZ3JwYy5Db2RlLk9LKSB7XG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcbiAgICAgICAgICBlcnIuY29kZSA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICBlcnIubWV0YWRhdGEgPSByZXNwb25zZS50cmFpbGVycztcbiAgICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIGNsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn07XG5cbkF1dGhDbGllbnQucHJvdG90eXBlLmJ5VXNlcm5hbWVBbmRQYXNzd29yZCA9IGZ1bmN0aW9uIGJ5VXNlcm5hbWVBbmRQYXNzd29yZChyZXF1ZXN0TWVzc2FnZSwgbWV0YWRhdGEsIGNhbGxiYWNrKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMV07XG4gIH1cbiAgdmFyIGNsaWVudCA9IGdycGMudW5hcnkoQXV0aC5CeVVzZXJuYW1lQW5kUGFzc3dvcmQsIHtcbiAgICByZXF1ZXN0OiByZXF1ZXN0TWVzc2FnZSxcbiAgICBob3N0OiB0aGlzLnNlcnZpY2VIb3N0LFxuICAgIG1ldGFkYXRhOiBtZXRhZGF0YSxcbiAgICB0cmFuc3BvcnQ6IHRoaXMub3B0aW9ucy50cmFuc3BvcnQsXG4gICAgZGVidWc6IHRoaXMub3B0aW9ucy5kZWJ1ZyxcbiAgICBvbkVuZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gZ3JwYy5Db2RlLk9LKSB7XG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcbiAgICAgICAgICBlcnIuY29kZSA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICBlcnIubWV0YWRhdGEgPSByZXNwb25zZS50cmFpbGVycztcbiAgICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIGNsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydHMuQXV0aENsaWVudCA9IEF1dGhDbGllbnQ7XG5cbiJdfQ==