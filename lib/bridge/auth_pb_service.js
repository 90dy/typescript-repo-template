"use strict";

// package: bridge
// file: src/bridge/auth.proto
var src_bridge_auth_pb = require("../../src/bridge/auth_pb");

var google_protobuf_api_pb = require("google-protobuf/google/protobuf/api_pb");

var google_protobuf_empty_pb = require("google-protobuf/google/protobuf/empty_pb");

var grpc = require("@improbable-eng/grpc-web").grpc;

var Auth = function () {
  function Auth() {}

  Auth.serviceName = "bridge.Auth";
  return Auth;
}();

Auth.Descriptor = {
  methodName: "Descriptor",
  service: Auth,
  requestStream: false,
  responseStream: false,
  requestType: google_protobuf_empty_pb.Empty,
  responseType: google_protobuf_api_pb.Api
};
Auth.ByUsernameAndPassword = {
  methodName: "ByUsernameAndPassword",
  service: Auth,
  requestStream: false,
  responseStream: false,
  requestType: src_bridge_auth_pb.UsernameAndPassword,
  responseType: google_protobuf_api_pb.Api
};
exports.Auth = Auth;

function AuthClient(serviceHost, options) {
  this.serviceHost = serviceHost;
  this.options = options || {};
}

AuthClient.prototype.descriptor = function descriptor(requestMessage, metadata, callback) {
  if (arguments.length === 2) {
    callback = arguments[1];
  }

  var client = grpc.unary(Auth.Descriptor, {
    request: requestMessage,
    host: this.serviceHost,
    metadata: metadata,
    transport: this.options.transport,
    debug: this.options.debug,
    onEnd: function onEnd(response) {
      if (callback) {
        if (response.status !== grpc.Code.OK) {
          var err = new Error(response.statusMessage);
          err.code = response.status;
          err.metadata = response.trailers;
          callback(err, null);
        } else {
          callback(null, response.message);
        }
      }
    }
  });
  return {
    cancel: function cancel() {
      callback = null;
      client.close();
    }
  };
};

AuthClient.prototype.byUsernameAndPassword = function byUsernameAndPassword(requestMessage, metadata, callback) {
  if (arguments.length === 2) {
    callback = arguments[1];
  }

  var client = grpc.unary(Auth.ByUsernameAndPassword, {
    request: requestMessage,
    host: this.serviceHost,
    metadata: metadata,
    transport: this.options.transport,
    debug: this.options.debug,
    onEnd: function onEnd(response) {
      if (callback) {
        if (response.status !== grpc.Code.OK) {
          var err = new Error(response.statusMessage);
          err.code = response.status;
          err.metadata = response.trailers;
          callback(err, null);
        } else {
          callback(null, response.message);
        }
      }
    }
  });
  return {
    cancel: function cancel() {
      callback = null;
      client.close();
    }
  };
};

exports.AuthClient = AuthClient;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9icmlkZ2UvYXV0aF9wYl9zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInNyY19icmlkZ2VfYXV0aF9wYiIsInJlcXVpcmUiLCJnb29nbGVfcHJvdG9idWZfYXBpX3BiIiwiZ29vZ2xlX3Byb3RvYnVmX2VtcHR5X3BiIiwiZ3JwYyIsIkF1dGgiLCJzZXJ2aWNlTmFtZSIsIkRlc2NyaXB0b3IiLCJtZXRob2ROYW1lIiwic2VydmljZSIsInJlcXVlc3RTdHJlYW0iLCJyZXNwb25zZVN0cmVhbSIsInJlcXVlc3RUeXBlIiwiRW1wdHkiLCJyZXNwb25zZVR5cGUiLCJBcGkiLCJCeVVzZXJuYW1lQW5kUGFzc3dvcmQiLCJVc2VybmFtZUFuZFBhc3N3b3JkIiwiZXhwb3J0cyIsIkF1dGhDbGllbnQiLCJzZXJ2aWNlSG9zdCIsIm9wdGlvbnMiLCJwcm90b3R5cGUiLCJkZXNjcmlwdG9yIiwicmVxdWVzdE1lc3NhZ2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2xpZW50IiwidW5hcnkiLCJyZXF1ZXN0IiwiaG9zdCIsInRyYW5zcG9ydCIsImRlYnVnIiwib25FbmQiLCJyZXNwb25zZSIsInN0YXR1cyIsIkNvZGUiLCJPSyIsImVyciIsIkVycm9yIiwic3RhdHVzTWVzc2FnZSIsImNvZGUiLCJ0cmFpbGVycyIsIm1lc3NhZ2UiLCJjYW5jZWwiLCJjbG9zZSIsImJ5VXNlcm5hbWVBbmRQYXNzd29yZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBRUEsSUFBSUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQywwQkFBRCxDQUFoQzs7QUFDQSxJQUFJQyxzQkFBc0IsR0FBR0QsT0FBTyxDQUFDLHdDQUFELENBQXBDOztBQUNBLElBQUlFLHdCQUF3QixHQUFHRixPQUFPLENBQUMsMENBQUQsQ0FBdEM7O0FBQ0EsSUFBSUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsMEJBQUQsQ0FBUCxDQUFvQ0csSUFBL0M7O0FBRUEsSUFBSUMs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Q2xCcEIsTUFBQUEsUUFBUSxHQUFHLElBQVg7QUFDQUcsTUFBQUEsTUFBTSxDQUFDa0IsS0FBUDtBQUNEO0FBSkksR0FBUDtBQU1ELENBN0JEOztBQStCQTdCLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQkEsVUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWNrYWdlOiBicmlkZ2Vcbi8vIGZpbGU6IHNyYy9icmlkZ2UvYXV0aC5wcm90b1xuXG52YXIgc3JjX2JyaWRnZV9hdXRoX3BiID0gcmVxdWlyZShcIi4uLy4uL3NyYy9icmlkZ2UvYXV0aF9wYlwiKVxudmFyIGdvb2dsZV9wcm90b2J1Zl9hcGlfcGIgPSByZXF1aXJlKFwiZ29vZ2xlLXByb3RvYnVmL2dvb2dsZS9wcm90b2J1Zi9hcGlfcGJcIilcbnZhciBnb29nbGVfcHJvdG9idWZfZW1wdHlfcGIgPSByZXF1aXJlKFwiZ29vZ2xlLXByb3RvYnVmL2dvb2dsZS9wcm90b2J1Zi9lbXB0eV9wYlwiKVxudmFyIGdycGMgPSByZXF1aXJlKFwiQGltcHJvYmFibGUtZW5nL2dycGMtd2ViXCIpLmdycGNcblxudmFyIEF1dGggPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBdXRoKCkge31cbiAgQXV0aC5zZXJ2aWNlTmFtZSA9IFwiYnJpZGdlLkF1dGhcIlxuICByZXR1cm4gQXV0aFxufSgpKVxuXG5BdXRoLkRlc2NyaXB0b3IgPSB7XG4gIG1ldGhvZE5hbWU6IFwiRGVzY3JpcHRvclwiLFxuICBzZXJ2aWNlOiBBdXRoLFxuICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICByZXF1ZXN0VHlwZTogZ29vZ2xlX3Byb3RvYnVmX2VtcHR5X3BiLkVtcHR5LFxuICByZXNwb25zZVR5cGU6IGdvb2dsZV9wcm90b2J1Zl9hcGlfcGIuQXBpLFxufVxuXG5BdXRoLkJ5VXNlcm5hbWVBbmRQYXNzd29yZCA9IHtcbiAgbWV0aG9kTmFtZTogXCJCeVVzZXJuYW1lQW5kUGFzc3dvcmRcIixcbiAgc2VydmljZTogQXV0aCxcbiAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgcmVxdWVzdFR5cGU6IHNyY19icmlkZ2VfYXV0aF9wYi5Vc2VybmFtZUFuZFBhc3N3b3JkLFxuICByZXNwb25zZVR5cGU6IGdvb2dsZV9wcm90b2J1Zl9hcGlfcGIuQXBpLFxufVxuXG5leHBvcnRzLkF1dGggPSBBdXRoXG5cbmZ1bmN0aW9uIEF1dGhDbGllbnQoc2VydmljZUhvc3QsIG9wdGlvbnMpIHtcbiAgdGhpcy5zZXJ2aWNlSG9zdCA9IHNlcnZpY2VIb3N0XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbn1cblxuQXV0aENsaWVudC5wcm90b3R5cGUuZGVzY3JpcHRvciA9IGZ1bmN0aW9uIGRlc2NyaXB0b3IocmVxdWVzdE1lc3NhZ2UsIG1ldGFkYXRhLCBjYWxsYmFjaykge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGNhbGxiYWNrID0gYXJndW1lbnRzWzFdXG4gIH1cbiAgdmFyIGNsaWVudCA9IGdycGMudW5hcnkoQXV0aC5EZXNjcmlwdG9yLCB7XG4gICAgcmVxdWVzdDogcmVxdWVzdE1lc3NhZ2UsXG4gICAgaG9zdDogdGhpcy5zZXJ2aWNlSG9zdCxcbiAgICBtZXRhZGF0YTogbWV0YWRhdGEsXG4gICAgdHJhbnNwb3J0OiB0aGlzLm9wdGlvbnMudHJhbnNwb3J0LFxuICAgIGRlYnVnOiB0aGlzLm9wdGlvbnMuZGVidWcsXG4gICAgb25FbmQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IGdycGMuQ29kZS5PSykge1xuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSlcbiAgICAgICAgICBlcnIuY29kZSA9IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICAgIGVyci5tZXRhZGF0YSA9IHJlc3BvbnNlLnRyYWlsZXJzXG4gICAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KVxuICByZXR1cm4ge1xuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sgPSBudWxsXG4gICAgICBjbGllbnQuY2xvc2UoKVxuICAgIH0sXG4gIH1cbn1cblxuQXV0aENsaWVudC5wcm90b3R5cGUuYnlVc2VybmFtZUFuZFBhc3N3b3JkID0gZnVuY3Rpb24gYnlVc2VybmFtZUFuZFBhc3N3b3JkKHJlcXVlc3RNZXNzYWdlLCBtZXRhZGF0YSwgY2FsbGJhY2spIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXVxuICB9XG4gIHZhciBjbGllbnQgPSBncnBjLnVuYXJ5KEF1dGguQnlVc2VybmFtZUFuZFBhc3N3b3JkLCB7XG4gICAgcmVxdWVzdDogcmVxdWVzdE1lc3NhZ2UsXG4gICAgaG9zdDogdGhpcy5zZXJ2aWNlSG9zdCxcbiAgICBtZXRhZGF0YTogbWV0YWRhdGEsXG4gICAgdHJhbnNwb3J0OiB0aGlzLm9wdGlvbnMudHJhbnNwb3J0LFxuICAgIGRlYnVnOiB0aGlzLm9wdGlvbnMuZGVidWcsXG4gICAgb25FbmQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IGdycGMuQ29kZS5PSykge1xuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSlcbiAgICAgICAgICBlcnIuY29kZSA9IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICAgIGVyci5tZXRhZGF0YSA9IHJlc3BvbnNlLnRyYWlsZXJzXG4gICAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KVxuICByZXR1cm4ge1xuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sgPSBudWxsXG4gICAgICBjbGllbnQuY2xvc2UoKVxuICAgIH0sXG4gIH1cbn1cblxuZXhwb3J0cy5BdXRoQ2xpZW50ID0gQXV0aENsaWVudFxuXG4iXX0=